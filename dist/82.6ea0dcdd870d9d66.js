"use strict";(self.webpackChunkKhelooAngularDesktop=self.webpackChunkKhelooAngularDesktop||[]).push([[82],{6082:(M,g,o)=>{o.r(g),o.d(g,{MSettingModule:()=>P});var c=o(6814),d=o(4828),p=o(6306),u=o(9301),t=o(9212),h=o(23),m=o(7700),r=o(6223);let f=(()=>{class s{constructor(e,i,n){this.fb=e,this.apiService=i,this.router=n,this.onCancel=new t.vpe,this.btnLoading=!1}ngOnInit(){this.resetForm=this.fb.group({Password:["",[r.kI.required]],NewPassword:["",[r.kI.required]],ConfirmPassword:["",[r.kI.required]]}),this.loaderSubscriber=this.apiService.loaderService.loading$.subscribe((e={})=>{this.btnLoading="changePassword"in e})}ChangePassword(){let e=this.resetForm.getRawValue(),n=this.resetForm.controls.NewPassword.value,a=this.resetForm.controls.ConfirmPassword.value;this.resetForm.controls.Password.value.trim()?n.trim()?n.trim().length<6?this.apiService.showAlert("","New Password Should be at least 6 characters long","warning"):a.trim()?n==a?this.apiService.apiRequest(u.v.changePassword,e).pipe((0,p.K)(l=>{throw this.apiService.showAlert("Something Went Wrong","Check your Internet Connection","error"),this.btnLoading=!1,console.error("An error occurred:",l),l})).subscribe(l=>{"1"==l.ErrorCode?(this.apiService.showAlert("",l.ErrorMessage,"success"),this.onCancel.emit(),this.router.navigate(["/"])):this.apiService.showAlert("",l.ErrorMessage,"error")}):this.apiService.showAlert("","New password and confirm Password should be match","warning"):this.apiService.showAlert("","Confirm Password Should not be Blank","warning"):this.apiService.showAlert("","New Password Should not be Blank","warning"):this.apiService.showAlert("","Password Should not be Blank","warning")}onClose(){this.onCancel.emit()}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(r.qu),t.Y36(h.s),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-m-reset-password"]],outputs:{onCancel:"onCancel"},decls:18,vars:1,consts:[[1,"reset-sec"],[1,"dialog-close",3,"click"],[1,"wizard"],[1,"login_logo_container"],["src","/assets/images/logo.gif","alt","logo",1,"img-fluid","logo-color"],[1,"RegisterFormComponent-form-title"],[3,"formGroup"],[1,"form_container"],[1,"col-md-12","p-l-0","crossbar-contact-input-container"],["type","password","formControlName","Password","required","","placeholder","Current Password"],["type","password","required","","formControlName","NewPassword","placeholder","New Password"],["type","password","required","","formControlName","ConfirmPassword","placeholder","Confirm Password"],[1,"col-md-12"],[1,"sign_up_container","loginBtn",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"section",0)(1,"div",1),t.NdJ("click",function(){return n.onClose()}),t.qZA(),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"h3",5),t._uU(6,"Reset Password"),t.qZA(),t.TgZ(7,"form",6)(8,"div",7)(9,"div",8),t._UZ(10,"input",9),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"input",10),t.qZA(),t.TgZ(13,"div",8),t._UZ(14,"input",11),t.qZA(),t.TgZ(15,"div",12)(16,"button",13),t.NdJ("click",function(){return n.ChangePassword()}),t._uU(17," Reset "),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("formGroup",n.resetForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".forgot-section[_ngcontent-%COMP%]{width:285px;background-color:#0b001c;max-height:85vh;top:50%;left:50%;background-size:cover;height:100%;background-position:50%;border-radius:10px}.wizard[_ngcontent-%COMP%]{background-color:#0b001c;border:2px solid #f3a432;padding:15px}.reset-sec[_ngcontent-%COMP%]{width:289px}"]})}return s})();const v=["changePass"];function _(s,Z){if(1&s){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),t._uU(6,"Username"),t.qZA(),t.TgZ(7,"div",9),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),t._uU(14,"Full Name"),t.qZA(),t.TgZ(15,"div",10),t._uU(16),t.qZA()()()()(),t.TgZ(17,"div",4)(18,"div",5)(19,"div",6)(20,"div",7)(21,"div",8),t._uU(22,"Mobile"),t.qZA(),t.TgZ(23,"div",9),t._uU(24),t.qZA()()()()(),t.TgZ(25,"div",4)(26,"div",5)(27,"div",6)(28,"div",7)(29,"div",8),t._uU(30,"DOB"),t.qZA(),t.TgZ(31,"div",10),t._uU(32),t.ALo(33,"date"),t.qZA()()()()(),t.TgZ(34,"div",4)(35,"div",11)(36,"div",12)(37,"div",7)(38,"div",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.resetDialog())}),t._uU(39,"Reset Login Password"),t.qZA()()()()()()}if(2&s){const e=t.oxw();t.xp6(8),t.Oqu(e.userDetails.UserName),t.xp6(8),t.Oqu(e.userDetails.FName+" "+e.userDetails.LName),t.xp6(8),t.Oqu(e.userDetails.Mobile),t.xp6(8),t.Oqu(t.xi3(33,4,e.userDetails.DOB,"mediumDate"))}}function w(s,Z){if(1&s){const e=t.EpF();t.TgZ(0,"app-m-reset-password",14),t.NdJ("onCancel",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closePopup())}),t.qZA()}}const C=[{path:"",component:(()=>{class s{constructor(e,i){this.apiSer=e,this.dialog=i,this.apiSubscriber=[],this.isLoading=!1}ngOnInit(){this.loaderSubscriber=this.apiSer.loaderService.loading$.subscribe((e={})=>{this.isLoading="getUserProfile"in e}),this.getUserDetails()}getUserDetails(){this.apiSer.apiRequest(u.v.getUserProfile).pipe((0,p.K)(e=>{throw e})).subscribe(e=>{this.userDetails=e})}resetDialog(){this.dialog.open(this.resetForm).afterClosed().subscribe(i=>{})}closePopup(){this.dialog.closeAll()}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(h.s),t.Y36(m.uw))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-m-setting"]],viewQuery:function(i,n){if(1&i&&t.Gf(v,5),2&i){let a;t.iGM(a=t.CRH())&&(n.resetForm=a.first)}},decls:6,vars:1,consts:[["ng-controller","SettingController",1,"settings_container","ng-scope"],["class","bank_form_container",4,"ngIf"],["changePass",""],[1,"bank_form_container"],[1,"setting_list"],[1,"setting_list_body"],[1,"setting_list_item"],[1,"setting_list_line"],[1,"setting_list_content"],[1,"setting_list_extra"],[1,"setting_list_extra","ng-binding"],[1,"setting_list_body","setReset-b"],[1,"setting_list_item","setReset-i"],[1,"setting_list_content","setReset-c",3,"click"],[3,"onCancel"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Settings"),t.qZA(),t.YNc(3,_,40,7,"div",1),t.qZA(),t.YNc(4,w,1,0,"ng-template",null,2,t.W1O)),2&i&&(t.xp6(3),t.Q6J("ngIf",n.userDetails))},dependencies:[c.O5,f,c.uU],styles:[".settings_container[_ngcontent-%COMP%]{background:#000;margin-top:60px;min-height:90vh;padding-bottom:60px}.settings_container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:20px;padding:30px 15px 20px}.setting_list_body[_ngcontent-%COMP%]{position:relative;background-color:#fff;margin-bottom:20px}.setting_list_item[_ngcontent-%COMP%]{position:relative;display:flex;padding-left:20px;min-height:60px;background-color:#1d0048;vertical-align:middle;overflow:hidden;transition:background-color .2s;align-items:center}.setting_list_line[_ngcontent-%COMP%]{position:relative;display:flex;flex:1 1;align-self:stretch;padding-right:20px;overflow:hidden;align-items:center}.setting_list_content[_ngcontent-%COMP%]{flex:1 1;color:#f4ad09;font-size:20px;line-height:1.5;text-align:left;width:auto;overflow:hidden;white-space:nowrap;padding-top:7px;padding-bottom:7px}.setting_list_extra[_ngcontent-%COMP%]{flex-basis:36%;color:#fff;font-size:16px;line-height:1.5;text-align:right;width:auto;overflow:hidden;white-space:nowrap;padding-top:7px;padding-bottom:7px}.setting_list_icon[_ngcontent-%COMP%]{display:block;width:25px;height:25px;margin-left:10px;background-size:contain;background-repeat:no-repeat;background-position:50% 50%;visibility:visible}.setReset-b[_ngcontent-%COMP%]{border-radius:40px}.setReset-i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ffd370 0%,#f7ad07 50%);border-radius:40px}.setReset-c[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:18px}"]})}return s})()}];let b=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#i=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(C),d.Bz]})}return s})();var x=o(6882);let P=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#i=this.\u0275inj=t.cJS({imports:[c.ez,b,x.m]})}return s})()}}]);